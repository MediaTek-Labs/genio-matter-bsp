###################################################
# Sources
DAPLINK_SRC      = middleware/third_party/DAPLink

ifeq ($(PRODUCT_VERSION),7933)
DAPLINK_CHIP_NAME = mt7933
else
$(error DAPLink is not supported $(PRODUCT_VERSION).)
endif

include $(SOURCE_DIR)/$(DAPLINK_SRC)/port/$(DAPLINK_CHIP_NAME)/GCC/daplink.mk

C_FILES += $(patsubst %, $(DAPLINK_SRC)/%, $(C_SRCS))
S_FILES += $(patsubst %, $(DAPLINK_SRC)/%, $(S_SRCS))

C_FILES += $(DAPLINK_SRC)/port/os_alt_layer/src/semphr.c
C_FILES += $(DAPLINK_SRC)/port/os_alt_layer/src/malloc.c
C_FILES += $(DAPLINK_SRC)/port/os_alt_layer/src/task.c

#################################################################################
# include path
#CC_SYMBOLS =  -DDAPLINK_VERSION=256  -DHID_ENDPOINT -DBULK_ENDPOINT -DWINUSB_INTERFACE  -DCDC_ENDPOINT  -DDAPLINK_IF  -DDAPLINK_BUILD_KEY=0x9B939E8F  -DOS_TICK_FREQ=100  -DINTERFACE_MT7933  -DCPU_MT7933  -DDAPLINK_HIC_ID=0x24547933  -DBOARD_MT7933  -D__PROGRAM_START  -D__PROGRAM_START -D__CMSIS_RTOS2__ -DOS_DYNAMIC_MEM_SIZE=32768
CC_SYMBOLS =  -DDAPLINK_VERSION=256  -DBULK_ENDPOINT -DWINUSB_INTERFACE  -DCDC_ENDPOINT  -DDAPLINK_IF  -DDAPLINK_BUILD_KEY=0x9B939E8F  -DOS_TICK_FREQ=100  -DINTERFACE_MT7933  -DCPU_MT7933  -DDAPLINK_HIC_ID=0x24547933  -DBOARD_MT7933  -D__PROGRAM_START  -D__PROGRAM_START -D__CMSIS_RTOS2__ -DOS_DYNAMIC_MEM_SIZE=32768

CFLAGS 	+= $(patsubst %, -I$(SOURCE_DIR)/$(DAPLINK_SRC)/%, $(INC_DIRS))
CFLAGS  += -I$(SOURCE_DIR)/$(DAPLINK_SRC)/port/os_alt_layer/inc
CFLAGS  += $(CC_SYMBOLS) -DMTK_DAPLINK_ENABLED -fshort-wchar
CFLAGS += -DMTK_HAL_PLAIN_LOG_ENABLE -DMEMORY_ATTRIBUTE_REMOVED

